<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="nike_space">
	<typeAlias  alias="egovMap"  type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias  alias="nikeVO" type="egov.service.NikeVO"/>
	
	<select id="nikeDAO.selectGoodsList" resultClass="egovMap">
	
		SELECT b.* FROM  (	
			SELECT 
				rownum rn, a.* 
			FROM  (
			
				SELECT 
					unq,
					category,
					ctgtype,
					ctggender,
					price,
					csize,
					color,
					thumbnail,
					substr(name,0,20) name
				FROM 
					goodsinfo
				ORDER BY 
					unq DESC	
								
			) a
		) b
		
		<isNotNull property="s_text">
	     	<isNotEmpty property="s_text">
	    		<isNotEqual property="s_field" compareValue="rdate">
	    		
	    			WHERE name LIKE '%$s_text$%'
	    			
				</isNotEqual>
		   	</isNotEmpty>
		</isNotNull>
		
		
		
	</select>
	
	<insert id="nikeDAO.insertJoin">
		INSERT INTO USERINFO(
				    USERID,
				    PASS,
				    NAME,
				    BIRTH,
				    PHONE,
				    EMAIL,
				    ZIPCODE,
				    ADDRESS1,
				    ADDRESS2,
				    RDATE,
				    UDATE
				) VALUES (
				    #userid#,
				    #pass#,
				    #name#,
				    #birth#,
				    #phone#,
				    #email#,
				    #zipcode#,
				    #address1#,
				    #address2#,
				    sysdate,
				    sysdate
				)
	</insert>
	
	
	
	
	
</sqlMap>